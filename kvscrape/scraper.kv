#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import ActionSeparator kivy.uix.actionbar.ActionSeparator
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import Factory kivy.factory.Factory

ScreenManagement:
    transition: FadeTransition()
    SplashScreen:
    Actions:

<FormItem>:
    orientation: 'horizontal'
    size_hint: 1, 0.1
    Label:
        text: root.field_name

    TextInput:
        id: field_input
        multiline: False
        text: root.field_value
        on_text: root.field_value = self.text

<FormItemSpinner>:
    orientation: 'horizontal'
    size_hint: 1, 0.1
    Label:
        text: root.field_name

    Spinner:
        id: field_input
        values: root.field_options
        on_text: root.field_value = self.text

<MyActionView>:
    available_options: available_options

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'
            padding: '5dp'
            canvas:
                Color:
                    rgb: .3, .3, .3
                Rectangle:
                    pos: self.pos
                    size: self.size
            Button:
                text: '<'
                size_hint_x: None
                width: self.height
                on_release: root.go_actions(action_category.text)


        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.1
            canvas.before:
                Color:
                    rgb: (0.063, 0.478, 0.69)
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                text: "Select an Action"
                size_hint: 0.5, 0.9

            Spinner:
                id: action_category
                text: "Click"
                size_hint: 0.5, 0.9
                values: "Click", "Goto", "Wait", "Extract", "Refresh"
                on_text: root.display_options(self.text)

        BoxLayout:
            id: available_options
            orientation: 'vertical'
            size_hint: 1, 0.8
            canvas.before:
                Color:
                    rgb: (0.0883, 0.5, 0.7)
                Rectangle:
                    pos: self.pos
                    size: self.size


<ActionItem>:
    canvas:
        Color:
            rgb: 0.427, 0.427, 0.427
        Rectangle:
            pos: self.pos
            size: self.size
    orientation: 'horizontal'
    Button:
        text: root.action_text
        on_release: root.edit_action()



<Actions>:
    name: 'actions'
    action_layout: action_layout
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'
            padding: '5dp'
            pos_hint: {'top': 1}
            canvas:
                Color:
                    rgb: .3, .3, .3
                Rectangle:
                    pos: self.pos
                    size: self.size

            Label:
                text: 'Scraper Actions'


            Button:
                text: '+'
                size_hint_x: None
                width: self.height
                on_release: root.add_action()

        BoxLayout:
            id: action_layout
            orientation: 'vertical'
            spacing: 5
            padding: 5



        BoxLayout:
            size_hint_y: 0.2
            pos_hint: {'top': 0}
            canvas.before:
                Color:
                    rgb: (0.1, 0.1, 0.1)
                Rectangle:
                    pos: self.pos
                    size: self.size
            rows: 1
            orientation: 'horizontal'
            BoxLayout:
                orientation: 'horizontal'
                size_hint_x: 0.2
                Label:
                    text: app.clock_time
                    font_size: 20
            VSeparator:
            BoxLayout:
                orientation: 'horizontal'
                size_hint_x: 0.2
                Label:
                    id: status_label
                    text: app.scraper_status
                    markup: True
                    font_size: 20

<SplashScreen>:
    name: 'splash'
    orientation: 'vertical'
    canvas.before:
        Color:
            rgb: (0.063, 0.478, 0.69)
        Rectangle:
            pos: self.pos
            size: self.size
    AnchorLayout:
        anchor_x: 'center'
        size: self.size
        pos: self.pos

        FloatLayout:

            Image:
                source: app.APP_ICON_PATH
                size_hint: 0.4, 0.4
                pos_hint: {'center_x': 0.5, 'top': 0.95}

            RedButton:
                on_release: app.root.current = 'actions'
                text: 'Begin'
                size_hint: 0.1, 0.1
                pos_hint: {'center_x': 0.5, 'top': 0.5}

            Label:
                text: "[size=40]{}[/size]\n{}".format(app.APP_NAME, app.APP_VERSION)
                markup: True
                halign: 'center'
                pos_hint: {'center_x': 0.5, 'top': 0.45}
                size_hint: 0.3, 0.3
                color: 0.09, 0.129, 0.129, 1


<Separator@Widget>:
    canvas:
        Color:
            rgba: 0.365, 0.365, 0.365, 1
        Rectangle:
            pos: self.pos
            size: self.size

<HSeparator@Separator>:
    size_hint_y: None
    height: dp(2)

<VSeparator@Separator>:
    size_hint_x: None
    width: dp(2)










